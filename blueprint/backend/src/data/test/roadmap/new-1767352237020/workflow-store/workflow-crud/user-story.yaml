type: user-story
id: workflow-crud
productName: test
version: '1.0'
last_updated: '2026-01-14'
name: CRUD operations for workflows
description: >-
  As an engineer, I want to save, load, update, and delete workflows,
  so that I can manage my workflow library.
status: planned
acceptance_criteria:
  - Can list all saved workflows
  - Can save new workflow from designer (creates workflow.yaml)
  - Can load workflow into designer for editing
  - Can update existing workflow
  - Can delete workflow
  - Workflows stored in backend/src/data/{product}/workflows/
tasks:
  - id: workflow-directory
    name: Set up workflow storage directory
    description: Create directory structure, define file naming convention
    status: planned
    estimate: 1h
  - id: list-workflows-api
    name: Create GET /api/workflows endpoint
    description: List all workflows with metadata (name, description, last modified)
    status: planned
    estimate: 1h
  - id: get-workflow-api
    name: Create GET /api/workflows/:id endpoint
    description: Load single workflow definition
    status: planned
    estimate: 1h
  - id: save-workflow-api
    name: Create POST /api/workflows endpoint
    description: Save new workflow from designer, validate schema, assign ID
    status: planned
    estimate: 2h
  - id: update-workflow-api
    name: Create PUT /api/workflows/:id endpoint
    description: Update existing workflow, validate schema
    status: planned
    estimate: 1h
  - id: delete-workflow-api
    name: Create DELETE /api/workflows/:id endpoint
    description: Delete workflow file
    status: planned
    estimate: 1h
