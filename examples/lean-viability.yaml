# Lean 1-2-3 Viability Model
#
# Demonstrates work-backwards calculations from revenue target to daily actions.
# Based on Ash Maurya's Lean 1-2-3 framework for testing business viability.
#
# To visualize this file:
#   npm run build
#   node dist/index.js visualize examples/lean-viability.yaml
#
# This generates viability-dashboard.html showing:
#   - Success criteria ($10M revenue target)
#   - Work-backwards calculations with formulas (including CLV, churn, conversion)
#   - Generated targets for AAARR metrics layer
#
# Business orchestration support will be added in Feature 000009.

type: lean-viability
version: "1.0"
last_updated: "2025-12-21"
title: "BLUEPRINT Viability Model"

# Reference to business model
lean_canvas_ref: "lean-canvas.yaml"

# 3-year viability test (Ash Maurya's Lean 1-2-3 framework)
time_horizon:
  duration: 3
  unit: years

# Success criteria: What revenue target validates this is a real business?
success_criteria:
  annual_revenue:
    amount: 10000000
    currency: USD
  target_year: 3

# Work-backwards calculations from revenue goal to daily actions
calculations:
  # Step 1: Define pricing assumption
  annual_revenue_per_customer:
    amount: 1200
    currency: USD
    basis: "Assumption: $100/month subscription (12 months) - typical for developer tools SaaS"

  # Step 2: Calculate required customers to hit revenue target
  required_customers:
    count: 8334
    formula: "annual_revenue / annual_revenue_per_customer = $10M / $1,200"

  # Step 3: Define customer retention assumptions
  customer_lifetime_value:
    years: 1
    formula: "Based on average customer lifetime for early-stage SaaS"

  # Step 4: Calculate churn rate from CLV
  churn_rate:
    monthly_rate: 0.0833
    formula: "1 / (CLV_years * 12) = 1 / (1 * 12) = 8.33% monthly"

  # Step 5: Calculate annual acquisition rate
  customer_acquisition_rate:
    rate: 2778
    period: year
    formula: "required_customers / time_horizon = 8,334 / 3 years"

  # Step 6: Calculate monthly acquisition target (base, without churn)
  monthly_acquisition_target:
    rate: 231
    period: month
    formula: "customer_acquisition_rate / 12 = 2,778 / 12"

  # Step 7: Define conversion assumptions
  conversion_rate:
    rate: 0.02
    basis: "Assumption: 2% visitor-to-signup conversion (typical for developer tools)"

  # Step 8: Calculate monthly visitors needed
  monthly_visitors:
    rate: 11550
    period: month
    formula: "monthly_acquisition_target / conversion_rate = 231 / 0.02"

# Generated targets (consumed by AAARR metrics layer)
# These targets flow down to define what metrics to track
targets:
  # Acquisition stage: How many signups do we need?
  acquisition:
    monthly_signups:
      rate: 231
      period: month

  # Revenue stage: What's our target revenue per user?
  revenue:
    arpu:
      amount: 100
      currency: USD
      period: month
