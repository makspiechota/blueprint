type: feature
id: provider-adapters
productName: test
version: '1.0'
last_updated: '2026-01-14'
name: Provider Adapters
description: >-
  Polymorphic adapters implementing ProviderInterface for different AI coding tools.
  Factory returns appropriate adapter based on agent configuration.
  Supports Claude Code, OpenCode, and fallback mode.
status: planned
user_stories:
  - id: provider-interface
    name: Define provider interface
    description: >-
      As a developer, I need a common interface for all provider adapters,
      so that the workflow runner can work with any provider polymorphically.
    status: planned
    path: ./provider-interface/user-story.yaml
  - id: claude-code-adapter
    name: Implement Claude Code adapter
    description: >-
      As the system, I need to call Claude Code in headless mode,
      so that workflows can use Claude for code generation tasks.
    status: planned
    path: ./claude-code-adapter/user-story.yaml
  - id: opencode-adapter
    name: Implement OpenCode adapter
    description: >-
      As the system, I need to call OpenCode via SDK,
      so that workflows can use OpenCode as an alternative provider.
    status: planned
    path: ./opencode-adapter/user-story.yaml
  - id: fallback-adapter
    name: Implement fallback adapter
    description: >-
      As an engineer, I want Claude Code to fall back to OpenCode when hitting limits,
      so that workflows continue without manual intervention.
    status: planned
    path: ./fallback-adapter/user-story.yaml
