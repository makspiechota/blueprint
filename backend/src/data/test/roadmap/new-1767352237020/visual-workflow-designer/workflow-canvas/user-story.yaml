type: user-story
id: workflow-canvas
productName: test
version: '1.0'
last_updated: '2026-01-15'
name: Design workflows on visual canvas
description: >-
  As an engineer, I want to drag-drop agent nodes onto a canvas and connect them,
  so that I can visually design the flow of my autonomous SDLC workflow.
status: completed
acceptance_criteria:
  - Canvas displays with grid background
  - Can drag agent nodes from palette onto canvas
  - Can connect nodes by dragging from output to input handles
  - Can delete nodes and connections
  - Can zoom and pan the canvas
  - Workflow is validated (no orphan nodes, valid connections)
tasks:
  - id: setup-react-flow
    name: Set up React Flow library
    description: Install and configure @xyflow/react with custom theme matching app
    status: completed
    estimate: 2h
  - id: agent-node-component
    name: Create AgentNode component
    description: Custom node component with input/output handles, icon, label, status indicator
    status: completed
    estimate: 3h
  - id: node-palette
    name: Create node palette sidebar
    description: Draggable list of available agent types (spec-writer, coder, tester, reviewer, custom)
    status: completed
    estimate: 2h
  - id: canvas-controls
    name: Add canvas controls
    description: Zoom in/out, fit view, minimap, undo/redo
    status: completed
    estimate: 2h
  - id: workflow-validation
    name: Implement workflow validation
    description: Validate graph on save - no orphans, no cycles (for now), all nodes configured
    status: completed
    estimate: 2h
  - id: save-load-api
    name: Implement save/load with backend API
    description: Connect to Software Factory backend API to save and load workflows
    status: completed
    estimate: 3h
